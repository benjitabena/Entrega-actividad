<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Grilla 10x10 Coloreable con Paleta de Colores y Goma</title>
        <style>
            .cronometro {
                font-size: 24px;
                position: relative;
                top: -200px; 
                left: 500px; 
            }

            .my-image {
                position: relative;
                top: 0px;
                left: -50px; 
                width: 300px;
                height: 300px; 
            }

            body {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 1;
                background-color: #f0f0f0;
            }
            .grid-container {
                display: grid;
                grid-template-columns: repeat(
                    10,
                    30px
                ); 
                grid-template-rows: repeat(
                    10,
                    30px
                ); 
                gap: 1px; 
                background-color: #fff; 
            }

            .grid-item {
                background-color: #ccc;
                width: 100%;
                height: 100%;
                cursor: pointer;
                border: 20px, solid #000;
            }

            
            .grid-item.active {
                background-color: #ff000000; 
                border: 20px, solid #000;
            }

            .color-palette {
                display: flex;
                justify-content: center;
                align-items: center;
                margin-top: 10px;
            }

            .color,
            .eraser {
                width: 35px;
                height: 20px;
                margin: 15px;
                cursor: pointer;
                border-radius: 15px;
            }

            .eraser {
                background-color: #ffffff; 
                border: 1px solid #000; 
            }
        </style>
    </head>
    <body>
        <div class="cronometro" id="cronometro">00:00:00</div>

        <img class="my-image" src="CATO.png" alt="Descripción de la imagen" />

        <div class="grid-container" id="grid-container">
            <!-- Las celdas se agregarán aquí mediante JavaScript -->
        </div>

        <div class="color-palette" id="color-palette">
            <!-- Paleta de colores y goma -->
            <div
                class="color"
                style="background-color: #84d474"
                onclick="setColor('#84d474')"
            ></div>
            <div
                class="color"
                style="background-color: #3c3c3c"
                onclick="setColor('#3c3c3c')"
            ></div>
            <div
                class="color"
                style="background-color: #54bcb4"
                onclick="setColor('#54bcb4')"
            ></div>
            <div class="eraser" onclick="setEraser()"></div>
            <!-- Agrega más colores aquí si lo deseas -->
        </div>
        <form action="/procesar" method="post">
            <button type="submit">Enviar Grilla</button>
        </form>
        <script>
            let segundos = 0;
            let minutos = 0;
            let horas = 0;
            let interval;

            function iniciarCronometro() {
                interval = setInterval(actualizarCronometro, 1000);
            }

            function detenerCronometro() {
                clearInterval(interval);
            }

            function reiniciarCronometro() {
                detenerCronometro();
                segundos = 0;
                minutos = 0;
                horas = 0;
                actualizarCronometro();
            }

            function actualizarCronometro() {
                segundos++;
                if (segundos === 60) {
                    segundos = 0;
                    minutos++;
                    if (minutos === 60) {
                        minutos = 0;
                        horas++;
                    }
                }

                const cronometroElement = document.getElementById("cronometro");
                cronometroElement.textContent = `${agregarCero(
                    horas
                )}:${agregarCero(minutos)}:${agregarCero(segundos)}`;
            }

            function agregarCero(numero) {
                return numero < 10 ? "0" + numero : numero;
            }

            iniciarCronometro(); 

            let currentColor = "#ff0000"; 
            let eraserMode = false; 

            function setColor(color) {
                currentColor = color;
                eraserMode = false; 
            }

            
            function setEraser() {
                eraserMode = !eraserMode;
            }

            
            const gridContainer = document.getElementById("grid-container");

            for (let i = 0; i < 10; i++) {
                for (let j = 0; j < 10; j++) {
                    const cell = document.createElement("div");
                    cell.classList.add("grid-item");
                    gridContainer.appendChild(cell);

                    cell.addEventListener("click", () => {
                        if (eraserMode) {
                            cell.style.backgroundColor = "#ccc"; 
                        } else {
                            cell.style.backgroundColor = currentColor;
                        }
                    });
                }
            }
        </script>
    </body>
</html>
